(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"a":[{"nome":"Acre","sigla":"AC"},{"nome":"Alagoas","sigla":"AL"},{"nome":"Amap\xe1","sigla":"AP"},{"nome":"Amazonas","sigla":"AM"},{"nome":"Bahia","sigla":"BA"},{"nome":"Cear\xe1","sigla":"CE"},{"nome":"Distrito Federal","sigla":"DF"},{"nome":"Esp\xedrito Santo","sigla":"ES"},{"nome":"Goi\xe1s","sigla":"GO"},{"nome":"Maranh\xe3o","sigla":"MA"},{"nome":"Mato Grosso","sigla":"MT"},{"nome":"Mato Grosso do Sul","sigla":"MS"},{"nome":"Minas Gerais","sigla":"MG"},{"nome":"Par\xe1","sigla":"PA"},{"nome":"Para\xedba","sigla":"PB"},{"nome":"Paran\xe1","sigla":"PR"},{"nome":"Pernambuco","sigla":"PE"},{"nome":"Piau\xed","sigla":"PI"},{"nome":"Rio de Janeiro","sigla":"RJ"},{"nome":"Rio Grande do Norte","sigla":"RN"},{"nome":"Rio Grande do Sul","sigla":"RS"},{"nome":"Rond\xf4nia","sigla":"RO"},{"nome":"Roraima","sigla":"RR"},{"nome":"Santa Catarina","sigla":"SC"},{"nome":"S\xe3o Paulo","sigla":"SP"},{"nome":"Sergipe","sigla":"SE"},{"nome":"Tocantins","sigla":"TO"}]}')},24:function(e,t,a){e.exports=a(40)},29:function(e,t,a){},30:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),i=(a(29),a(1)),l=a(2),u=a(4),s=a(3),m=(a(30),a(12)),d=a(5),h=a(8),p=a.n(h),f=a(13),v=a(14),g=a(6),y=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(m.b,{to:"/cart","data-testid":"shopping-cart-button"},r.a.createElement("img",{src:"https://img.icons8.com/ios/50/000000/shopping-cart.png",alt:"carrinho",className:"cart-image"}))}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleChange,a=e.handleClick;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"search-container"},r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"input-search-container"},r.a.createElement("input",{className:"input-search",name:"query",type:"text","data-testid":"query-input",onChange:t}),r.a.createElement("button",{type:"button","data-testid":"query-button",onClick:a},"Buscar")),r.a.createElement(y,null))),r.a.createElement("p",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria."))}}]),a}(r.a.Component),E=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.thumbnail,n=e.price,c=e.id,o=e.productId,i=e.addToCart;return r.a.createElement("div",{"data-testid":"product",className:"product"},r.a.createElement("h4",null,t),r.a.createElement(m.b,{"data-testid":"product-detail-link",to:"/product/".concat(c,"/").concat(o)},r.a.createElement("img",{src:a,alt:t})),r.a.createElement("p",null,"R$ ".concat(n.toFixed(2))),r.a.createElement("button",{"data-testid":"product-add-to-cart",type:"button",onClick:i},"Adicionar ao Carrinho"))}}]),a}(r.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.searchProducts,a=e.addToCart;return r.a.createElement("main",{className:"main"},r.a.createElement("section",{className:"product-container"},t.map((function(e){return r.a.createElement(E,{key:e.id,title:e.title,id:e.category_id,productId:e.id,price:e.price,thumbnail:e.thumbnail,addToCart:function(){return a(e)}})}))))}}]),a}(n.Component),C=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.category,a=e.onChangeFilterCategory,n=t.name,c=t.id;return r.a.createElement("label",{htmlFor:c},r.a.createElement("input",{onChange:a,value:c,name:"category",id:c,type:"radio","data-testid":"category"}),n)}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.categories,a=e.onChangeFilterCategory;return r.a.createElement("div",{className:"category"},t.map((function(e,t){return r.a.createElement(C,{key:t,category:e,onChangeFilterCategory:a})})))}}]),a}(n.Component);function k(){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mercadolibre.com/sites/MLB/categories",e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return P.apply(this,arguments)}function P(){return(P=Object(f.a)(p.a.mark((function e(t,a){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={categories:[],query:"",category:"",searchProducts:[]},e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.fetchProducts=e.fetchProducts.bind(Object(g.a)(e)),e.handleClick=e.handleClick.bind(Object(g.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchCategories()}},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,r=a.name;"category"===r?this.setState(Object(v.a)({},r,n),(function(){return t.fetchProducts()})):this.setState(Object(v.a)({},r,n))}},{key:"handleClick",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.query,n=t.category,e.next=3,x(n,a).then((function(e){return e.results}));case 3:r=e.sent,this.setState({searchProducts:r});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addToCart",value:function(e){var t=JSON.parse(localStorage.getItem("products"))||[];if(e.quantity=1,t.some((function(t){return t.id===e.id}))){var a=t.map((function(e){return e.id})).indexOf(e.id);t[a].quantity+=1}else t.push(e);localStorage.setItem("products",JSON.stringify(t))}},{key:"fetchProducts",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.category,n=t.query,e.next=3,x(a,n);case 3:r=e.sent,c=r.results,this.setState({searchProducts:c});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCategories",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,this.setState({categories:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.categories,a=e.searchProducts;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{handleChange:this.handleChange,handleClick:this.handleClick}),r.a.createElement("div",{className:"main"},r.a.createElement(j,{categories:t,onChangeFilterCategory:this.handleChange}),r.a.createElement(O,{searchProducts:a,addToCart:this.addToCart})))}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.testId,n=e.changeQuant,c=e.quantity;return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:n,"data-testid":a,disabled:c<2},t))}}]),a}(r.a.Component),M=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={quantity:0},n.decreaseQuantity=n.decreaseQuantity.bind(Object(g.a)(n)),n.increaseQuantity=n.increaseQuantity.bind(Object(g.a)(n)),n.changeQuantityText=n.changeQuantityText.bind(Object(g.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.changeQuantityText()}},{key:"changeQuantityText",value:function(){var e=this.props.product;this.setState({quantity:e.quantity})}},{key:"increaseQuantity",value:function(){var e=this;this.setState((function(e){return{quantity:e.quantity+1}}),(function(){var t=e.props.product,a=JSON.parse(localStorage.getItem("products")),n=a.map((function(e){return e.id})).indexOf(t.id);a[n].quantity+=1,localStorage.setItem("products",JSON.stringify(a))}))}},{key:"decreaseQuantity",value:function(){var e=this;this.setState((function(e){return{quantity:e.quantity-1}}),(function(){var t=e.props.product,a=JSON.parse(localStorage.getItem("products")),n=a.map((function(e){return e.id})).indexOf(t.id);a[n].quantity-=1,localStorage.setItem("products",JSON.stringify(a))}))}},{key:"render",value:function(){var e=this.state.quantity;return r.a.createElement("div",null,r.a.createElement(q,{text:"-",changeQuant:this.decreaseQuantity,quantity:e,testId:"product-decrease-quantity"}),r.a.createElement("p",{"data-testid":"shopping-cart-product-quantity"},e),r.a.createElement(q,{text:"+",changeQuant:this.increaseQuantity,testId:"product-increase-quantity"}))}}]),a}(r.a.Component),F=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.products;return r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",{"data-testid":"shopping-cart-product-name"},e.title),r.a.createElement(M,{product:e}))})))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{src:"https://img.icons8.com/ios/50/000000/back--v1.png",alt:"voltar",className:"back-image"}))}}]),a}(n.Component),w=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio")}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("products"))||[];return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("h1",null,"Carrinho de Compras"),e.length>0?r.a.createElement(F,{products:e}):r.a.createElement(w,null),r.a.createElement(m.b,{to:"/checkout","data-testid":"checkout-products"},"Finalizar Compra"))}}]),a}(r.a.Component),A=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChangeForm=n.handleChangeForm.bind(Object(g.a)(n)),n.handleClickForm=n.handleClickForm.bind(Object(g.a)(n)),n}return Object(l.a)(a,[{key:"handleChangeForm",value:function(e){var t=e.target,a=t.name,n="checkbox"===t.type?t.checked:t.value;this.setState(Object(v.a)({},a,n))}},{key:"handleClickForm",value:function(){this.setState({})}},{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("fieldset",{className:"fieldset-form"},r.a.createElement("legend",null,"Avalia\xe7\xf5es"),r.a.createElement("div",null,r.a.createElement("input",{name:"email",type:"email",placeholder:"E-mail",onChange:this.handleChangeForm}),r.a.createElement("span",{className:"star"},"\u2605"),r.a.createElement("span",{className:"star"},"\u2605"),r.a.createElement("span",{className:"star"},"\u2605"),r.a.createElement("span",{className:"star"},"\u2605"),r.a.createElement("span",{className:"star"},"\u2605")),r.a.createElement("textarea",{"data-testid":"product-detail-evaluation",name:"textarea",placeholder:"Mensagem(Opcional)",onChange:this.handleChangeForm}),r.a.createElement("button",{type:"button"},"Avaliar")))}}]),a}(r.a.Component),J=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={productList:[],product:[]},n.addToCart=n.addToCart.bind(Object(g.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchAPI()}},{key:"setProduct",value:function(){var e=this.props.match.params.pid,t=this.state.productList.filter((function(t){return t.id===e}));this.setState({product:t[0]})}},{key:"fetchAPI",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,x(t,"").then((function(e){return e.results}));case 3:a=e.sent,this.setState({productList:a},(function(){return n.setProduct()}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addToCart",value:function(e,t){var a=JSON.parse(localStorage.getItem("products"))||[];if(t.quantity=1,a.some((function(e){return e.id===t.id}))){var n=a.map((function(e){return e.id})).indexOf(t.id);a[n].quantity+=1}else a.push(t);localStorage.setItem("products",JSON.stringify(a))}},{key:"render",value:function(){var e=this,t=this.state.product,a=t.attributes;return console.log(a),r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(y,null),r.a.createElement("p",{"data-testid":"product-detail-name"},t.title),r.a.createElement("img",{src:t.thumbnail,alt:t.title}),r.a.createElement("div",null,a&&a.map((function(e){return r.a.createElement("p",{key:e.name},"".concat(e.name,": ").concat(e.value_name))}))),r.a.createElement("button",{"data-testid":"product-detail-add-to-cart",type:"button",onClick:function(a){return e.addToCart(a,t)}},"Adicionar ao carrinho"),r.a.createElement(A,null))}}]),a}(r.a.Component),Q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={productsPrice:0,products:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setProducts()}},{key:"setProducts",value:function(){var e=this,t=JSON.parse(localStorage.getItem("products"))||[];this.setState({products:t},(function(){return e.sumTotal()}))}},{key:"sumTotal",value:function(){var e=this.state.products.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t}),0);this.setState({productsPrice:e})}},{key:"render",value:function(){var e=this.state,t=e.productsPrice,a=e.products;return r.a.createElement("section",null,a.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("p",null,e.title),r.a.createElement("p",null,"R$:",e.price))})),r.a.createElement("p",null,"Total:",t.toFixed(2)))}}]),a}(n.Component),R=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.name,n=e.value,c=e.onChange;return r.a.createElement("label",{htmlFor:a},r.a.createElement("input",{type:t,name:"paymentMethod",value:n,onChange:c}))}}]),a}(n.Component),B=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={paymentMethod:"boleto"},n.handleChangePayment=n.handleChangePayment.bind(Object(g.a)(n)),n}return Object(l.a)(a,[{key:"handleChangePayment",value:function(e){var t=this,a=e.target.value;this.setState((function(){return{paymentMethod:a}}),(function(){return console.log(t.state)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,{type:"radio",value:"Boleto",onChange:this.handleChangePayment}),r.a.createElement(R,{type:"radio",value:"Visa",onChange:this.handleChangePayment}),r.a.createElement(R,{type:"radio",value:"MasterCard",onChange:this.handleChangePayment}),r.a.createElement(R,{type:"radio",value:"Elo",onChange:this.handleChangePayment}))}}]),a}(n.Component),G=a(23),D=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(g.a)(n)),n.state={name:"",cpf:"",email:"",telefone:"",cep:"",endereco:"",complemento:"",numero:"",cidade:"",estado:""},n}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n="checkbox"===t.type?t.checked:t.value;this.setState(Object(v.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.cpf,n=e.email,c=e.telefone,o=e.cep,i=e.endereco,l=e.complemento,u=e.numero,s=e.cidade,m=e.estado;return r.a.createElement("form",{className:"form-checkout"},r.a.createElement("h3",null,"Informa\xe7\xf5es do Comprador"),r.a.createElement("input",{"data-testid":"checkout-fullname",type:"text",name:"name",value:t,placeholder:"Nome Completo",onChange:this.handleChange}),r.a.createElement("input",{"data-testid":"checkout-cpf",type:"text",name:"cpf",value:a,placeholder:"CPF",onChange:this.handleChange}),r.a.createElement("input",{"data-testid":"checkout-email",type:"text",name:"email",value:n,placeholder:"Email",onChange:this.handleChange}),r.a.createElement("input",{"data-testid":"checkout-phone",type:"text",name:"telefone",value:c,placeholder:"Telefone",onChange:this.handleChange}),r.a.createElement("input",{"data-testid":"checkout-cep",type:"text",name:"cep",value:o,placeholder:"CEP",onChange:this.handleChange}),r.a.createElement("input",{"data-testid":"checkout-address",type:"text",name:"endereco",value:i,placeholder:"Endere\xe7o",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"complemento",value:l,placeholder:"Complemento",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"numero",value:u,placeholder:"N\xfamero",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"cidade",value:s,placeholder:"Cidade",onChange:this.handleChange}),r.a.createElement("select",{type:"text",name:"estado",value:m,placeholder:"Estado",onChange:this.handleChange},G.a.map((function(e){return r.a.createElement("option",{key:e.sigla},e.nome)}))))}}]),a}(r.a.Component),L=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("p",null,"Hello World!!!"),r.a.createElement(Q,null),r.a.createElement(D,null),r.a.createElement(B,null))}}]),a}(r.a.Component),z=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("h3",null,"Projeto Desenvolvido pelo Grupo 12"),r.a.createElement("ul",{className:"names-container"},r.a.createElement("li",null,"Alysson"),r.a.createElement("li",null,"Emannuel"),r.a.createElement("li",null,"Guilherme"),r.a.createElement("li",null,"Kevin"),r.a.createElement("li",null,"Patrick")))}}]),a}(r.a.Component),W=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:N}),r.a.createElement(d.a,{path:"/cart",component:I}),r.a.createElement(d.a,{path:"/product/:id/:pid",component:J}),r.a.createElement(d.a,{path:"/checkout",component:L}))),r.a.createElement(z,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.e3c18a6d.chunk.js.map